<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>价格行为学：双顶熊旗形态图解</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;700&display=swap');
        body {
            font-family: 'Noto Sans SC', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #f0f2f5;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
        }
        .chart-container {
            background-color: #ffffff;
            border-radius: 12px;
            box-shadow: 0 8px 24px rgba(0,0,0,0.1);
            padding: 2rem;
            width: 100%;
            max-width: 800px;
            aspect-ratio: 16/10;
        }
        svg {
            width: 100%;
            height: 100%;
        }
        .candlestick.bull {
            fill: #26a69a;
            stroke: #26a69a;
        }
        .candlestick.bear {
            fill: #ef5350;
            stroke: #ef5350;
        }
        .wick {
            stroke-width: 1;
        }
        .grid-line {
            stroke: #e0e0e0;
            stroke-dasharray: 2, 2;
        }
        .pattern-line {
            stroke: #007bff;
            stroke-width: 2;
            stroke-dasharray: 4, 4;
            fill: none;
        }
        .resistance-line {
            stroke: #ff6b6b;
            stroke-width: 2;
            stroke-dasharray: 4, 4;
            fill: none;
        }
        .label-text {
            font-size: 14px;
            fill: #333;
            font-weight: bold;
        }
        .title-text {
            font-size: 24px;
            font-weight: bold;
            fill: #2c3e50;
            text-anchor: middle;
        }
        .arrow-line {
            stroke: #2c3e50;
            stroke-width: 1.5;
        }
        .arrow-head {
            fill: #2c3e50;
        }
        .highlight-zone {
            fill: rgba(255, 107, 107, 0.08);
            stroke: none;
        }
        .bear-arrow {
            stroke: #ef5350;
            stroke-width: 2;
        }
        .bear-arrow-head {
            fill: #ef5350;
        }
    </style>
</head>
<body>
    <div class="chart-container">
        <svg viewBox="0 0 800 500">
            <!-- Title -->
            <text x="400" y="40" class="title-text">双顶熊旗</text>

            <!-- Grid Lines -->
            <g class="grid">
                <line x1="50" y1="100" x2="750" y2="100" class="grid-line"></line>
                <line x1="50" y1="200" x2="750" y2="200" class="grid-line"></line>
                <line x1="50" y1="300" x2="750" y2="300" class="grid-line"></line>
                <line x1="50" y1="400" x2="750" y2="400" class="grid-line"></line>
            </g>

            <!-- Candlesticks -->
            <g id="candlesticks">
                <!-- Flagpole (下跌) -->
                <line x1="100" y1="100" x2="100" y2="200" class="wick candlestick bear"></line>
                <rect x="95" y="150" width="10" height="50" class="candlestick bear"></rect>

                <line x1="130" y1="200" x2="130" y2="280" class="wick candlestick bear"></line>
                <rect x="125" y="200" width="10" height="70" class="candlestick bear"></rect>

                <line x1="160" y1="280" x2="160" y2="380" class="wick candlestick bear"></line>
                <rect x="155" y="280" width="10" height="90" class="candlestick bear"></rect>

                <!-- Flag Formation - Double Top inside (反弹整理) -->
                <line x1="190" y1="350" x2="190" y2="320" class="wick candlestick bull"></line>
                <rect x="185" y="320" width="10" height="20" class="candlestick bull"></rect>

                <!-- First Top -->
                <line x1="220" y1="340" x2="220" y2="280" class="wick candlestick bull"></line>
                <rect x="215" y="290" width="10" height="50" class="candlestick bull"></rect>
                <line x1="250" y1="310" x2="250" y2="285" class="wick candlestick bear"></line>
                <rect x="245" y="285" width="10" height="20" class="candlestick bear"></rect>

                <!-- Trough -->
                <line x1="280" y1="330" x2="280" y2="310" class="wick candlestick bear"></line>
                <rect x="275" y="310" width="10" height="15" class="candlestick bear"></rect>
                <line x1="310" y1="325" x2="310" y2="300" class="wick candlestick bull"></line>
                <rect x="305" y="305" width="10" height="20" class="candlestick bull"></rect>

                <!-- Second Top -->
                <line x1="340" y1="320" x2="340" y2="282" class="wick candlestick bull"></line>
                <rect x="335" y="288" width="10" height="32" class="candlestick bull"></rect>
                <line x1="370" y1="310" x2="370" y2="290" class="wick candlestick bear"></line>
                <rect x="365" y="295" width="10" height="15" class="candlestick bear"></rect>

                <!-- Before Breakdown -->
                <line x1="400" y1="320" x2="400" y2="300" class="wick candlestick bear"></line>
                <rect x="395" y="300" width="10" height="15" class="candlestick bear"></rect>

                <!-- Breakdown Candle -->
                <line x1="430" y1="320" x2="430" y2="420" class="wick candlestick bear"></line>
                <rect x="425" y="320" width="10" height="90" class="candlestick bear"></rect>

                <!-- Continuation -->
                <line x1="460" y1="420" x2="460" y2="450" class="wick candlestick bear"></line>
                <rect x="455" y="420" width="10" height="25" class="candlestick bear"></rect>
            </g>

            <!-- Pattern Lines and Labels -->
            <!-- Flagpole Label -->
            <path d="M120,150 Q 150,130 180,150" stroke="#2c3e50" stroke-width="1.5" fill="none" />
            <line x1="150" y1="130" x2="158" y2="250" class="arrow-line"></line>
            <text x="100" y="120" class="label-text">1. 旗杆 (下跌)</text>

            <!-- Flag/Double Top Area -->
            <rect x="175" y="275" width="250" height="80" class="highlight-zone" />
            <line x1="220" y1="280" x2="340" y2="282" class="resistance-line" /> <!-- Top resistance -->
            <line x1="185" y1="350" x2="395" y2="330" class="pattern-line" /> <!-- Bottom support -->

            <text x="180" y="265" class="label-text">2. 旗形反弹 (内含双顶)</text>
            <text x="220" y="275" class="label-text">顶 1</text>
            <text x="335" y="275" class="label-text">顶 2</text>

            <!-- Breakdown Label -->
            <circle cx="430" cy="350" r="15" fill="none" stroke="#ef5350" stroke-width="2" />
            <line x1="445" y1="350" x2="520" y2="350" class="bear-arrow"></line>
            <polygon points="520,345 530,350 520,355" class="bear-arrow-head" />
            <text x="535" y="355" class="label-text">3. 向下突破</text>

            <!-- Continuation -->
            <path d="M500,400 C 520,420, 560,420, 580,400" fill="none" stroke="#2c3e50" stroke-width="1.5"/>
            <line x1="540" y1="420" x2="465" y2="430" class="arrow-line" />
            <text x="500" y="460" class="label-text">4. 趋势继续</text>

            <!-- Price Action Notes -->
            <text x="600" y="100" class="label-text" style="font-size: 12px; fill: #666;">特征:</text>
            <text x="600" y="120" class="label-text" style="font-size: 11px; fill: #666;">• 下跌旗杆</text>
            <text x="600" y="135" class="label-text" style="font-size: 11px; fill: #666;">• 反弹整理</text>
            <text x="600" y="150" class="label-text" style="font-size: 11px; fill: #666;">• 双顶阻力</text>
            <text x="600" y="165" class="label-text" style="font-size: 11px; fill: #666;">• 向下突破</text>
        </svg>
    </div>
</body>
</html>
